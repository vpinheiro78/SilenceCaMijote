<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Silence, √ßa mijote</title>
<link rel="stylesheet" href="style.css"/>
</head>
<body>
<header class="site-header">
  <h1>Silence, √ßa mijote</h1>
  <a class="admin-link" href="admin/login.html" title="Admin"><img src="assets/logo.png" alt="Logo" /></a>
 <!-- üåç S√©lecteur de langue avec drapeaux -->
<div class="lang-switcher">
  <img src="assets/flags/fr.svg" alt="Fran√ßais" onclick="changeLanguage('fr')">
  <img src="assets/flags/en.svg" alt="English" onclick="changeLanguage('en')">
  <img src="assets/flags/es.svg" alt="Espa√±ol" onclick="changeLanguage('es')">
  <img src="assets/flags/pt.svg" alt="Portugu√™s" onclick="changeLanguage('pt')">
  <img src="assets/flags/it.svg" alt="Italiano" onclick="changeLanguage('it')">
  <img src="assets/flags/de.svg" alt="Deutsch" onclick="changeLanguage('de')">
</div>

<!-- Google Translate (cach√©) -->
<div id="google_translate_element" style="position:absolute; left:-9999px;"></div>


</header>

<main class="container">
  <div class="blurb" id="site-blurb">Recettes pr√©par√©es avec amour : des plats savoureux et gourmands pour r√©galer vos proches √† chaque repas.</div>

  <div class="search-row">
    <input id="search" type="search" placeholder="Rechercher une recette, un ingr√©dient..." />
  </div>

  <div class="categories" id="categories">
    <button data-cat="all" class="cat-btn">Toutes</button>
    <button data-cat="dessert" class="cat-btn cat-dessert">Dessert</button>
    <button data-cat="viande" class="cat-btn cat-viande">Viande</button>
    <button data-cat="poisson" class="cat-btn cat-poisson">Poisson</button>
    <button data-cat="accompagnement" class="cat-btn cat-accompagnement">Accompagnement</button>
    <button data-cat="autre" class="cat-btn cat-autre">Autre</button>
  </div>
  
<div class="newsletter">
  <h3>Abonnez-vous pour √™tre notifi√© d√®s qu‚Äôune nouvelle recette est publi√©e !</h3>
  <form id="subscribeForm">
    <input type="email" name="email" placeholder="Votre email" required style="padding:10px; width:250px; border-radius:6px; border:1px solid #ccc"/>
    <button type="submit" class="btn-liste-courses">S'abonner</button>
  </form>
  <p id="subscribeMessage" style="margin-top:6px;color:green;"></p>
</div>

  <section id="recipes" class="grid" aria-live="polite"></section>
</main>

<footer class="site-footer">¬© 2025 Silence, √ßa mijote</footer>

<script type="module" src="script.js"></script>

<script type="text/javascript">
function waitForSelect(lang) {
    var interval = setInterval(function() {
        var select = document.querySelector("#google_translate_element select");
        if (select) {
            select.value = lang;
            select.dispatchEvent(new Event("change"));
            clearInterval(interval);
        }
    }, 100);
}

function googleTranslateElementInit() {
    new google.translate.TranslateElement({
        pageLanguage: 'fr',
        includedLanguages: 'en,es,pt,it,de',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google_translate_element');

    // Charger la langue sauvegard√©e si elle existe
    var savedLang = localStorage.getItem("preferredLang");
    if (savedLang) {
        waitForSelect(savedLang);
    }
}

function changeLanguage(lang) {
    localStorage.setItem("preferredLang", lang);
    waitForSelect(lang);
}
</script>

<script type="text/javascript" 
  src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" 
  async defer>
</script>

</body>
</html>
